import{$ as M,$a as S,Ab as J,Bb as L,Cb as W,Db as $,G as u,Ia as P,J as c,K as C,L as b,O as v,Q as _,U as r,V as s,Va as O,_ as g,fb as j,gb as I,ha as l,ja as h,mb as k,nb as x,ob as A,pa as y,pb as E,qb as F,ra as T,s as w,tb as N,ub as D,wb as z,zb as B}from"./chunk-YJCDLP6F.js";function q(a,f){if(a&1&&l(0),a&2){let t=f.$implicit;h(" ",t==null||t.slug==null?null:t.slug.split(".")[0]," ")}}function G(a,f){if(a&1&&(l(0),y(1,"translate")),a&2){let t=f.$implicit,n=M();h(" ",T(1,1,t==null?null:t.slug,n.ts.now)," ")}}var H=(()=>{class a{setPage(t){this.page=t,localStorage.setItem("page",t)}get rows(){return this.ts.words.filter(t=>this.page&&typeof t=="object"?this.page===t.slug.split(".")[0]:!0)}constructor(t,n,i,o,m){this.ts=t,this._form=n,this._http=i,this._alert=o,this._translate=m,this.columns=["page","word","translation"],this.form=this._form.getForm("translate",{formId:"translate",title:"Translate",components:[{name:"Text",key:"translate",focused:!0,fields:[{name:"Placeholder",value:"fill Translate"},{name:"Label",value:"Translate"},{name:"Textarea",value:!0}]}]}),this.formAll=this._form.getForm("translateAll",{formId:"translateAll",title:"Translate All",components:[{name:"Text",key:"words",fields:[{name:"Placeholder",value:"fill Translate"},{name:"Label",value:"Original Words"},{name:"Textarea",value:!0}]},{name:"Text",key:"translates",focused:!0,fields:[{name:"Placeholder",value:"fill Translate"},{name:"Label",value:"Translated Words"},{name:"Textarea",value:!0}]}]}),this.config={update:e=>{this._form.modal(this.form,[],{translate:this.ts.translate(e.slug)}).then(d=>{this._http.post("/api/translate/create",{appId:this.ts.appId,slug:e.slug,lang:this.ts.language.code,translate:d.translate}),this.ts.translates[this.ts.language.code][e.slug]=d.translate,this.ts.reset()})}},this.pages=[{name:this.ts.translate("Common.All"),_id:""}].concat(this.ts.pages.map(e=>({name:e,_id:e}))),this.page=localStorage.getItem("page")||""}translateAll(t=!1){let n=t?this.rows.filter(e=>!this.ts.translates[this.ts.language.code][e.slug]):this.rows,i=JSON.stringify(n.map(e=>e.word)),o=n.map(e=>e.slug),m=JSON.stringify(n.map(e=>this.ts.translate(e.slug)));this._form.modal(this.formAll,[],{words:i,translates:m}).then(e=>{if(m===e.translates)return;let d=JSON.parse(e.translates);for(let p=0;p<o.length;p++)this._http.post("/api/translate/create",{appId:this.ts.appId,slug:o[p],lang:this.ts.language.code,translate:d[p]}),this.ts.translates[this.ts.language.code][o[p]]=d[p];this.ts.reset()})}set_language(t){this.ts.set_language(this.ts.languages.find(n=>n.code===t))}static{this.\u0275fac=function(n){return new(n||a)(c(x),c(z),c(j),c(I),c(x))}}static{this.\u0275cmp=C({type:a,selectors:[["ng-component"]],standalone:!1,decls:26,vars:7,consts:[[1,"container-fluid"],[1,"page-wrapper"],[1,"translate__top-inner"],[1,"translate__inner"],["for","",1,"formboxs"],["translate","",1,"formboxs_title"],["value","code",3,"modelChange","items","select"],[2,"width","300px",3,"modelChange","items","select"],[1,"translate__buttons"],[1,"translate__dawn-jcon",3,"click"],[1,"material-icons","ng-tns-c405976996-4"],["translate",""],[3,"columns","config","rows"],["cell","page"],["cell","translation"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4)(5,"div",5),l(6," Common.Select language "),s(),r(7,"wselect",6),g("modelChange",function(m){return i.set_language(m)}),s()(),r(8,"label",4)(9,"div",5),l(10," Common.Select page "),s(),r(11,"wselect",7),g("modelChange",function(m){return i.setPage(m)}),s()()(),r(12,"div",8)(13,"wbutton",9),g("click",function(){return i.translateAll()}),r(14,"span",10),l(15," translate "),s(),r(16,"span",11),l(17,"Common.Translate all"),s()(),r(18,"wbutton",9),g("click",function(){return i.translateAll(!0)}),r(19,"span",10),l(20," translate "),s(),r(21,"span",11),l(22,"Common.Translate missed"),s()()()(),r(23,"wtable",12),v(24,q,1,1,"ng-template",13)(25,G,2,4,"ng-template",14),s()()()),n&2&&(u(7),_("items",i.ts.languages)("select",i.ts.language.code),u(4),_("items",i.pages)("select",i.page),u(12),_("columns",i.columns)("config",i.config)("rows",i.rows))},dependencies:[A,E,D,N,W,J],styles:['.translate__top-inner[_ngcontent-%COMP%]{width:100%;max-width:100vw;display:flex;background:var(--c-bg-secondary);padding:15px;align-items:end;flex-wrap:wrap;gap:20px;justify-content:space-between;border-radius:10px;margin:0 auto;position:relative}@media screen and (max-width: 1250px){.translate__top-inner[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767px){.translate__top-inner[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:15px}}.translate__top-inner[_ngcontent-%COMP%]:before{content:"";position:absolute;height:100px;width:100%;background-color:var(--c-bg-secondary);z-index:-1;left:0;right:0;bottom:-50px}.translate__btn[_ngcontent-%COMP%]{position:absolute;top:-5px;right:25px;font-size:23px}.translate__dawn-jcon[_ngcontent-%COMP%]   span.material-icons[_ngcontent-%COMP%]{padding-right:5px}.translate__buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px}@media (max-width: 575px){.translate__buttons[_ngcontent-%COMP%]{flex-direction:column}.translate__buttons[_ngcontent-%COMP%]   wbutton[_ngcontent-%COMP%]{width:100%}}.translate__inner[_ngcontent-%COMP%]{display:flex;gap:40px;flex-wrap:wrap}@media (max-width: 575px){.translate__inner[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:20px}}.formboxs_label[_ngcontent-%COMP%]{width:100%;color:var(--c-text-primary);position:relative;display:flex;justify-content:space-between;padding-bottom:10px;padding-right:52px}.translate__main-wrap[_ngcontent-%COMP%]{justify-content:center}.translate__select[_ngcontent-%COMP%]{min-width:200px;max-width:200px;background:var(--c-grey);padding:5px;border:1px solid #7f8c8d;border-radius:5px}.translate__main-inner[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:column;width:100%;max-width:350px;border-radius:10px;margin:5px 15px 35px;padding:10px;height:fit-content;background:var(--c-bg-secondary);border:2px solid var(--c-primary);cursor:pointer}@media (max-width: 575px){.translate__main-inner[_ngcontent-%COMP%]{margin:0}}.title[_ngcontent-%COMP%]{text-align:center}.input[_ngcontent-%COMP%]{width:100%;margin-right:10px;border-radius:5px;padding:5px 10px;border:1px solid var(--c-text-primary)}.formboxs[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column;align-items:flex-start}.formboxs_title[_ngcontent-%COMP%]{color:var(--c-text-primary);display:flex;justify-content:center;align-items:center}.main__sub-inner[_ngcontent-%COMP%]{margin:20px;display:flex;flex-wrap:wrap}@media (max-width: 767px){.main__sub-inner[_ngcontent-%COMP%]{margin:20px 0}}@media (max-width: 575px){.main__sub-inner[_ngcontent-%COMP%]{gap:20px}}.img-close[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:50%;position:absolute;top:-6px;right:-6px;z-index:2;transition:all .3s;cursor:pointer}.img-close[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50%;top:50%;width:80%;height:2px;transform:translate(-50%,-50%) rotate(45deg);background:var(--c-text-primary)}.img-close[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;top:50%;width:80%;height:2px;transform:translate(-50%,-50%) rotate(-45deg);background:var(--c-text-primary)}']})}}return a})();var K=[{path:"",component:H}],gt=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=b({type:a})}static{this.\u0275inj=w({imports:[O.forChild(K),L,P,F,S,B,k,$]})}}return a})();export{gt as TranslatesModule};
