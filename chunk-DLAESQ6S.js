import{a as I}from"./chunk-4XID4E6O.js";import{a as y}from"./chunk-X6I76JIS.js";import{a as $}from"./chunk-PTOZT7ZU.js";import"./chunk-6VCE7POT.js";import{a as S}from"./chunk-QMLXWTAL.js";import{d as Y}from"./chunk-AUTYEGHN.js";import{$ as _,Ca as N,Da as g,G as r,J as s,K as C,L as j,O as f,Q as m,S as v,Sa as q,U as o,V as c,Va as D,W as O,Z as h,_ as a,ab as L,ca as V,f as M,gb as A,ha as l,ia as x,nb as w,ob as B,pb as R,rb as U,s as E,wb as b,x as d,y as u,z as F}from"./chunk-YJCDLP6F.js";function Z(n,P){if(n&1){let e=h();o(0,"div",5)(1,"span",6),a("click",function(){d(e);let i=_();return u(i.update(i.clinics))}),l(2,"edit"),c(),o(3,"span",7),a("click",function(){d(e);let i=_();return u(i.delete(i.clinics))}),l(4,"delete"),c()()}}var G=(()=>{class n{constructor(e,t,i,p,T,H){this._petclinicService=e,this._form=t,this._core=i,this._alert=p,this._translate=T,this.us=H,this.load=new F,this.form=this._form.getForm("petclinic",I)}update(e){this._form.modal(this.form,[],e).then(t=>{this._core.copy(t,e),this._petclinicService.update(e);let i=this._petclinicService.doc(e._id);this._core.copy(t,i)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this pet?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._petclinicService.delete(e).subscribe(()=>{this.load.emit()})}}]})}static{this.\u0275fac=function(t){return new(t||n)(s(y),s(b),s(L),s(A),s(w),s(S))}}static{this.\u0275cmp=C({type:n,selectors:[["app-clinic"]],inputs:{clinics:"clinics"},outputs:{load:"load"},standalone:!1,decls:8,vars:5,consts:[[1,"documents-card"],[1,"documents-card-description",3,"routerLink"],[1,"documents__title"],[1,"documents__description"],["class","documents-card-buttons",4,"ngIf"],[1,"documents-card-buttons"],[1,"material-icons",3,"click"],[1,"material-icons","delete-button",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"a",1)(2,"div")(3,"div",2),l(4),c(),o(5,"div",3),l(6),c()()(),f(7,Z,5,0,"div",4),c()),t&2&&(r(),V("routerLink","/petclinicpage/",i.clinics._id,""),r(3),x(i.clinics.name),r(2),x(i.clinics.address),r(),m("ngIf",i.us.role("admin")))},dependencies:[q,g],encapsulation:2})}}return n})();function ie(n,P){if(n&1){let e=h();o(0,"div")(1,"wbutton",14),a("click",function(){d(e);let i=_();return u(i.create())}),o(2,"span",8),l(3,"Button.Create"),c()()()}}function te(n,P){if(n&1){let e=h();o(0,"div",15)(1,"app-clinic",16),a("load",function(){d(e);let i=_();return u(i.load())}),c()()}if(n&2){let e=P.$implicit;r(),m("clinics",e)}}var k=(()=>{class n{constructor(e,t,i,p){this._petclinicService=e,this._form=t,this.us=i,this.translateService=p,this.clinics=[],this.isMenuOpen=!1,this.search="",this.form=this._form.getForm("petclinic",I),this.load()}setSearch(e){this.search=e||""}getTranslatedText(e){return this.translateService.translate(e)}create(){this._form.modal(this.form,{label:"Create",click:(e,t)=>M(this,null,function*(){t(),this._preCreate(e),this._petclinicService.create(e).subscribe(()=>{this.load()})})})}load(){this._petclinicService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.clinics.splice(0,this.clinics.length),this.clinics.push(...e)})}_preCreate(e){delete e.__created}_query(){let e="";return this.search&&(e+=(e?"&":"")+"search="+this.search),e}static{this.\u0275fac=function(t){return new(t||n)(s(y),s(b),s(S),s(w))}}static{this.\u0275cmp=C({type:n,selectors:[["ng-component"]],standalone:!1,decls:16,vars:13,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__title"],["translate",""],[4,"ngIf"],[3,"wChange","wSubmit","placeholder","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[3,"click"],[1,"documents-main-row"],[3,"load","clinics"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a("click",function(){return i.isMenuOpen=!i.isMenuOpen}),O(4,"div",4),c(),o(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),l(9,"Clinic.Pet Clinics"),c()(),f(10,ie,4,0,"div",9),o(11,"div")(12,"winput",10),a("wChange",function(T){return i.setSearch(T)})("wSubmit",function(){return i.load()}),c()()()(),o(13,"div",11)(14,"div",12),f(15,te,2,1,"div",13),c()()()()()),t&2&&(v("documents-wrapper--open",i.isMenuOpen),r(3),v("burger-wrap--open",i.isMenuOpen),r(),v("burger--close",i.isMenuOpen),r(),v("documents-sidebar--open",i.isMenuOpen),r(5),m("ngIf",i.us.role("admin")),r(2),m("placeholder",i.getTranslatedText("Common.Enter text..."))("type","search")("clearable",!0),r(3),m("ngForOf",i.clinics))},dependencies:[B,N,g,R,U,G],encapsulation:2})}}return n})();var ne=[{path:"",component:k},{path:":clinic_drug",component:k}],ye=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=j({type:n})}static{this.\u0275inj=E({imports:[D.forChild(ne),Y,$]})}}return n})();export{ye as PetclinicsModule};
