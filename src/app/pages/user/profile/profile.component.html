<div class="container">
	<wcard>
		<div class="profile__header">
			<div>
				<div class="avatar _profile">
					<ngx-file
						(update)="updateThumb($event)"
						[value]="us.user.thumb ? url + us.user.thumb : 'assets/default.png'"
						[name]="us.user._id + '.jpg'"
						err="assets/default.png"
						[isPhoto]="true"
						[imgStyle]="{
							'border-radius': 'var(--c-img-round)',
							'width': '52px',
							'height': '52px'
						}"
						container="user"
						[height]="512"
						[width]="512"
					></ngx-file>
				</div>
			</div>
		</div>
		<div class="profile__body">
			<wform
				[config]="formProfile"
				(wChange)="update()"
				[submition]="user"
				*ngIf="user"
			></wform>

			<div class="profile__footer">
				<div class="profile__logout">
					<wbutton (click)="us.logout()" type="danger">
						<span class="material-icons">logout</span>
						<span translate>Profile.Logout</span>
					</wbutton>
				</div>

				<div class="profile__password">
					<wbutton (click)="changePassword()" type="link">
						<span translate>Profile.Change Password</span>
					</wbutton>
				</div>
			</div>

			<hr />

			<div class="profile-settings">
				<h1 translate>Profile.Interface Settings</h1>
				<div class="theme-switch">
					<span translate>Profile.Theme mode:</span>
					<div class="theme-switch-icon">
						<span
							class="material-icons"
							*ngIf="!us.mode"
							(click)="us.setMode('dark')"
						>
							dark_mode
						</span>
						<span
							class="material-icons"
							*ngIf="us.mode"
							(click)="us.setMode()"
						>
							light_mode
						</span>
					</div>
				</div>

				<div class="profile__language">
					<span translate>Profile.Change language</span>
					<wselect
						value="code"
						[items]="ts.languages"
						[select]="ts.language.code"
						(modelChange)="set_language($event)"
					></wselect>
				</div>
			</div>
		</div>
	</wcard>
</div>
