import{a as L}from"./chunk-BYI4KDEW.js";import{a as K}from"./chunk-JC3YLUXG.js";import{a as S}from"./chunk-HKK6XGAR.js";import{a as J}from"./chunk-CW6TRPPC.js";import{a as z}from"./chunk-QMLXWTAL.js";import{d as H}from"./chunk-AUTYEGHN.js";import{$ as f,Ca as V,Cb as Y,Da as k,Db as $,E as P,G as l,J as s,K as v,L as F,O as x,Q as p,Ra as D,S as m,U as i,V as n,Va as U,W as C,Z as A,_ as c,ab as N,gb as B,ha as a,ia as g,ja as d,nb as E,ob as R,pb as q,s as O,w as M,wb as G,x as _,y as h,z as j}from"./chunk-YJCDLP6F.js";var y=(()=>{class r{get items(){return this._petallergyService.petallergys}constructor(e){this._petallergyService=e,this.wChange=new j}ngOnChanges(e){e.value&&!e.value.firstChange&&(this.value=e.value.currentValue)}static{this.\u0275fac=function(o){return new(o||r)(s(S))}}static{this.\u0275cmp=v({type:r,selectors:[["petallergy-selector"]],inputs:{value:"value"},outputs:{wChange:"wChange"},features:[M],decls:1,vars:3,consts:[["placeholder","Allergy",3,"modelChange","select","items","multiple"]],template:function(o,t){o&1&&(i(0,"wselect",0),c("modelChange",function(w){return t.wChange.emit(w)}),n()),o&2&&p("select",t.value)("items",t.items)("multiple",!0)},dependencies:[$,Y],encapsulation:2})}}return r})();var Q=(()=>{class r{constructor(e){this._petallergyService=e}ngOnInit(){this.allergy=this._petallergyService.doc(this.petallergy)}static{this.\u0275fac=function(o){return new(o||r)(s(S))}}static{this.\u0275cmp=v({type:r,selectors:[["app-allergies"]],inputs:{petallergy:"petallergy"},standalone:!1,decls:4,vars:2,consts:[[1,"documents__title"],[1,"documents__description"]],template:function(o,t){o&1&&(i(0,"div",0),a(1),n(),i(2,"div",1),a(3),n()),o&2&&(l(),g(t.allergy.name),l(2),g(t.allergy.description))},encapsulation:2})}}return r})();function ne(r,b){if(r&1){let e=A();i(0,"div")(1,"div",18),c("click",function(){_(e);let t=f();return h(t.isMenuOpen=!t.isMenuOpen)}),C(2,"div",19),n(),i(3,"div",20)(4,"div",21)(5,"div",22)(6,"div")(7,"wbutton",23),c("click",function(){_(e);let t=f();return h(t.update(t.petprofile))}),i(8,"span",10),a(9,"Button.Edit"),n()(),i(10,"wbutton",23),c("click",function(){_(e);let t=f();return h(t.delete(t.petprofile))}),i(11,"span",10),a(12,"Button.Delete"),n()()(),i(13,"div")(14,"petallergy-selector",24),c("wChange",function(t){_(e);let u=f();return u.allergy=t,h(u.updateAllergies(u.petprofile))}),n()()()()()()}if(r&2){let e=f();l(),m("burger-wrap--open",e.isMenuOpen),l(),m("burger--close",e.isMenuOpen),l(),m("documents-sidebar--open",e.isMenuOpen),l(11),p("value",e.petprofile.allergies)}}function re(r,b){if(r&1&&(i(0,"div",6),C(1,"app-allergies",25),n()),r&2){let e=b.$implicit;l(),p("petallergy",e)}}var W=(()=>{class r{constructor(e,o,t,u,w,X,T,Z){this._petService=e,this._router=o,this._form=t,this._core=u,this._alert=w,this._translate=X,this._userService=T,this.translateService=Z,this.petprofile=this._petService.doc(this._router.url.replace("/petprofile/","")),this.allergies=[],this.allergy=[],this.apiUrl=J.url,this.petPhoto=this.apiUrl+(this.petprofile.thumb?this.petprofile.thumb:null),this.isMenuOpen=!1,this.form=this._form.getForm("pet",L),this.user=this._userService.doc(this.petprofile.author),this.isOwner=this.petprofile.author===T.user._id}getTranslatedText(e){return this.translateService.translate(e)}update(e){this._form.modal(this.form,[],e).then(o=>{this._core.copy(o,e),this._petService.update(e)})}updateAllergies(e){e.allergies=this.allergy,this._petService.update(e)}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this pet?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._petService.delete(e),this._router.navigateByUrl("/mypets")}}]})}static{this.\u0275fac=function(o){return new(o||r)(s(K),s(D),s(G),s(N),s(B),s(E),s(z),s(E))}}static{this.\u0275cmp=v({type:r,selectors:[["ng-component"]],standalone:!1,decls:43,vars:18,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[4,"ngIf"],[1,"documents-main"],[1,"documents-main-content"],[1,"documents-main-row"],["alt","Pet photo",1,"pet-img",3,"src"],[1,"documents__title"],[1,"documents__species"],["translate",""],[1,"documents__breed"],[1,"documents__age"],[1,"documents__gender"],[1,"documents__description"],["class","documents-main-row",4,"ngFor","ngForOf"],["alt","Owner photo",1,"owner-img",3,"src"],[1,"documents__email"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar-content-buttons"],[3,"click"],[3,"wChange","value"],[3,"petallergy"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),x(3,ne,15,7,"div",3),i(4,"div",4)(5,"div",5)(6,"div",6),C(7,"img",7),i(8,"div",8),a(9),n(),i(10,"div",9)(11,"span",10),a(12,"Pet.Species: "),n(),a(13),n(),i(14,"div",11)(15,"span",10),a(16,"Pet.Breed: "),n(),a(17),n(),i(18,"div",12)(19,"span",10),a(20,"Pet.Age: "),n(),a(21),n(),i(22,"div",13)(23,"span",10),a(24,"Pet.Gender: "),n(),a(25),n(),i(26,"div",14),a(27),n()(),i(28,"h3")(29,"span",10),a(30,"Pet.Allergies"),n()(),x(31,re,2,1,"div",15),i(32,"h3")(33,"span",10),a(34,"Pet.Owner"),n()(),i(35,"div",6),C(36,"img",16),i(37,"div"),a(38),n(),i(39,"div",17)(40,"span",10),a(41,"Profile.Email:"),n(),a(42),n()()()()()()()),o&2&&(m("documents-wrapper--open",t.isMenuOpen),l(),m("hide-burger",!t.isOwner),l(2),p("ngIf",t.isOwner),l(),m("hide-burger",!t.isOwner),l(3),p("src",t.petPhoto,P),l(2),g(t.petprofile.name),l(4),d("",t.getTranslatedText("Pet."+t.petprofile.species)," "),l(4),d("",t.getTranslatedText("Pet."+t.petprofile.breed)," "),l(4),d("",t.petprofile.age," "),l(4),d("",t.getTranslatedText("Pet."+t.petprofile.gender)," "),l(2),d(" ",t.petprofile.description," "),l(4),p("ngForOf",t.petprofile.allergies),l(5),p("src",t.apiUrl+t.user.thumb,P),l(2),g(t.user.name),l(4),d(" ",t.user.email," "))},dependencies:[R,V,k,q,y,Q],encapsulation:2})}}return r})();var oe=[{path:":pet_id",component:W}],Me=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=F({type:r})}static{this.\u0275inj=O({imports:[U.forChild(oe),H,y]})}}return r})();export{Me as PetprofileModule};
