import{a as O}from"./chunk-JC3YLUXG.js";import{a as F}from"./chunk-HKK6XGAR.js";import{a as E}from"./chunk-CW6TRPPC.js";import"./chunk-QMLXWTAL.js";import{d as I}from"./chunk-AUTYEGHN.js";import{Ca as T,Cb as L,E as w,G as r,J as u,K as f,L as b,O as C,Q as o,S as d,Sa as S,U as a,V as s,Va as y,W as c,_ as m,ca as v,ha as h,ia as _,nb as P,ob as N,rb as M,s as g}from"./chunk-YJCDLP6F.js";var j=(()=>{class n{constructor(){this.apiUrl=E.url}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=f({type:n,selectors:[["app-newhome-list"]],inputs:{pet:"pet"},standalone:!1,decls:9,vars:7,consts:[[1,"documents-card"],[3,"routerLink"],["alt","Pet photo",1,"documents__img",3,"src"],[1,"documents-card-description",3,"routerLink"],[1,"documents__title"],[1,"documents__description"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"a",1),c(2,"img",2),s(),a(3,"a",3)(4,"div")(5,"div",4),h(6),s(),a(7,"div",5),h(8),s()()()()),i&2&&(r(),v("routerLink","/petprofile/",e.pet._id,""),r(),o("src",e.apiUrl+e.pet.thumb,w),r(),v("routerLink","/petprofile/",e.pet._id,""),r(3),_(e.pet.name),r(2),_(e.pet.description))},dependencies:[S],encapsulation:2})}}return n})();function U(n,q){if(n&1&&(a(0,"div",15),c(1,"app-newhome-list",16),s()),n&2){let t=q.$implicit;r(),o("pet",t)}}var D=(()=>{class n{constructor(t,i,e){this._petService=t,this.translateService=i,this._petallergyService=e,this.availablePets=[],this.speciesList=[],this.breedList=[],this.species="",this.breed="",this.gender="",this.search="",this.genderList=[{_id:"Male",name:this.getTranslatedText("Pet.Male")},{_id:"Female",name:this.getTranslatedText("Pet.Female")}],this.isMenuOpen=!1,this.filtersInitialized=!1,this.load()}setSearch(t){this.search=t||""}getTranslatedText(t){return this.translateService.translate(t)}load(){this._petService.get({query:this._query()},{name:"public"}).subscribe(t=>{this.availablePets.splice(0,this.availablePets.length),this.availablePets.push(...t),this.filtersInitialized||(this.speciesList=[...new Set(this.availablePets.map(i=>i.species))].map(i=>({_id:i,name:this.getTranslatedText("Pet."+i)})),this.breedList=[...new Set(this.availablePets.map(i=>i.breed))].map(i=>({_id:i,name:this.getTranslatedText("Pet."+i)})),this.filtersInitialized=!0)})}_query(){let t="";return this.availablePets&&(t+=(t?"&":"")+"adoptable=true",this.species&&(t+=(t?"&":"")+"species="+this.species),this.breed&&(t+=(t?"&":"")+"breed="+this.breed),this.gender&&(t+=(t?"&":"")+"gender="+this.gender)),this.search&&(t+=(t?"&":"")+"search="+this.search),t}static{this.\u0275fac=function(i){return new(i||n)(u(O),u(P),u(F))}}static{this.\u0275cmp=f({type:n,selectors:[["ng-component"]],standalone:!1,decls:19,vars:23,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__title"],["translate",""],[3,"modelChange","placeholder","items","clearable","searchable"],[3,"modelChange","placeholder","items","clearable"],[3,"wChange","wSubmit","placeholder","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"pet"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m("click",function(){return e.isMenuOpen=!e.isMenuOpen}),c(4,"div",4),s(),a(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),h(9,"NewHome.New Home"),s()(),a(10,"div")(11,"wselect",9),m("modelChange",function(l){return e.species=l,e.load()}),s(),a(12,"wselect",9),m("modelChange",function(l){return e.breed=l,e.load()}),s(),a(13,"wselect",10),m("modelChange",function(l){return e.gender=l,e.load()}),s()(),a(14,"div")(15,"winput",11),m("wChange",function(l){return e.setSearch(l)})("wSubmit",function(){return e.load()}),s()()()(),a(16,"div",12)(17,"div",13),C(18,U,2,1,"div",14),s()()()()()),i&2&&(d("documents-wrapper--open",e.isMenuOpen),r(3),d("burger-wrap--open",e.isMenuOpen),r(),d("burger--close",e.isMenuOpen),r(),d("documents-sidebar--open",e.isMenuOpen),r(6),o("placeholder",e.getTranslatedText("Pet.Species"))("items",e.speciesList)("clearable",!0)("searchable",!0),r(),o("placeholder",e.getTranslatedText("Pet.Breed"))("items",e.breedList)("clearable",!0)("searchable",!0),r(),o("placeholder",e.getTranslatedText("Pet.Gender"))("items",e.genderList)("clearable",!0),r(2),o("placeholder",e.getTranslatedText("Common.Enter text..."))("type","search")("clearable",!0),r(3),o("ngForOf",e.availablePets))},dependencies:[N,L,T,M,j],encapsulation:2})}}return n})();var H=[{path:"",component:D}],te=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=b({type:n})}static{this.\u0275inj=g({imports:[y.forChild(H),I]})}}return n})();export{te as NewhomeModule};
