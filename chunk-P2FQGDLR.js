import{a as R}from"./chunk-4XID4E6O.js";import{a as z}from"./chunk-CW6TRPPC.js";import{a as A}from"./chunk-X6I76JIS.js";import{a as B}from"./chunk-HZCNNJ5Y.js";import{a as V}from"./chunk-QMLXWTAL.js";import{d as U}from"./chunk-AUTYEGHN.js";import{$ as u,Ca as P,Da as k,E as w,G as n,J as a,K as h,L as E,O as C,Pa as M,Q as p,Ra as j,S as d,Sa as T,U as r,V as i,Va as F,W as l,Z as y,_ as g,ab as O,ca as S,gb as D,ha as s,ia as v,ja as m,nb as x,ob as q,pb as L,s as b,wb as N,x as _,y as f}from"./chunk-YJCDLP6F.js";var W=(()=>{class o{constructor(){this.apiUrl=z.url}static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275cmp=h({type:o,selectors:[["app-clinicdoctors"]],inputs:{doctor:"doctor"},standalone:!1,decls:8,vars:7,consts:[[1,"documents-card-doctor"],[3,"routerLink"],["alt","Doctor photo",1,"documents__img",3,"src"],[1,"documents-card-doctor-description",3,"routerLink"],[1,"documents__title"],[1,"documents__specialization"]],template:function(c,t){c&1&&(r(0,"div",0)(1,"a",1),l(2,"img",2),i(),r(3,"a",3)(4,"div",4),s(5),i(),r(6,"div",5),s(7),i()()()),c&2&&(n(),S("routerLink","/petdoctorpage/",t.doctor._id,""),n(),p("src",t.doctor.thumb?t.apiUrl+t.doctor.thumb:"assets/default.png",w),n(),S("routerLink","/petdoctorpage/",t.doctor._id,""),n(2),v(t.doctor.name),n(2),v(t.doctor.specialization))},dependencies:[T],encapsulation:2})}}return o})();function ne(o,I){if(o&1){let e=y();r(0,"div")(1,"div",17),g("click",function(){_(e);let t=u();return f(t.isMenuOpen=!t.isMenuOpen)}),l(2,"div",18),i(),r(3,"div",19)(4,"div",20)(5,"div",21)(6,"wbutton",22),g("click",function(){_(e);let t=u();return f(t.update(t.petclinic))}),r(7,"span",11),s(8,"Button.Edit"),i()(),r(9,"wbutton",22),g("click",function(){_(e);let t=u();return f(t.delete(t.petclinic))}),r(10,"span",11),s(11,"Button.Delete"),i()()()()()()}if(o&2){let e=u();n(),d("burger-wrap--open",e.isMenuOpen),n(),d("burger--close",e.isMenuOpen),n(),d("documents-sidebar--open",e.isMenuOpen)}}function oe(o,I){if(o&1&&(r(0,"div",6),l(1,"app-clinicdoctors",23),i()),o&2){let e=I.$implicit;n(),p("doctor",e)}}var Y=(()=>{class o{constructor(e,c,t,$,G,J,K,Q,X,Z){this._petclinicService=e,this._petdoctorService=c,this._router=t,this._route=$,this._form=G,this._core=J,this._alert=K,this._translate=Q,this.translateService=X,this.us=Z,this.petclinic=this._petclinicService.doc(this._router.url.replace("/petclinicpage/","")),this.petdoctors=[],this.clinic_id="",this.isMenuOpen=!1,this.form=this._form.getForm("petclinic",R),this._route.paramMap.subscribe(ee=>{this.clinic_id=ee.get("clinic_id")||""}),this.load()}getTranslatedText(e){return this.translateService.translate(e)}update(e){this._form.modal(this.form,[],e).then(c=>{this._core.copy(c,e),this._petclinicService.update(e)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this pet?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._petclinicService.delete(e),this._router.navigateByUrl("/petclinics")}}]})}load(){this._petdoctorService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.petdoctors.splice(0,this.petdoctors.length),this.petdoctors.push(...e)})}_query(){let e="";return this.clinic_id&&(e+=(e?"&":"")+"clinic="+this.clinic_id),e}static{this.\u0275fac=function(c){return new(c||o)(a(A),a(B),a(j),a(M),a(N),a(O),a(D),a(x),a(x),a(V))}}static{this.\u0275cmp=h({type:o,selectors:[["ng-component"]],standalone:!1,decls:37,vars:14,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[4,"ngIf"],[1,"documents-main"],[1,"documents-main-content"],[1,"documents-main-row"],[1,"documents__img"],["src","assets/default.png","alt",""],[1,"documents__title"],[1,"documents__address"],["translate",""],[1,"documents__phone"],[1,"documents__email"],[1,"documents__workingHours"],[1,"documents__description"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar-content-buttons"],[3,"click"],[3,"doctor"]],template:function(c,t){c&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),C(3,ne,12,6,"div",3),r(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),l(8,"img",8),i(),r(9,"div",9),s(10),i(),r(11,"div",10)(12,"span",11),s(13,"Clinic.Address: "),i(),s(14),i(),l(15,"hr"),r(16,"div",12)(17,"span",11),s(18,"Clinic.Phone: "),i(),s(19),i(),r(20,"div",13)(21,"span",11),s(22,"Clinic.Email: "),i(),s(23),i(),l(24,"hr"),r(25,"div",14)(26,"span",11),s(27,"Clinic.Working hours: "),i(),s(28),i(),r(29,"div",15)(30,"span",11),s(31,"Clinic.Description: "),i(),s(32),i()(),r(33,"h3")(34,"span",11),s(35,"Clinic.Doctors"),i()(),C(36,oe,2,1,"div",16),i()()()()()),c&2&&(d("documents-wrapper--open",t.isMenuOpen),n(),d("hide-burger",!t.us.role("admin")),n(2),p("ngIf",t.us.role("admin")),n(),d("hide-burger",!t.us.role("admin")),n(6),v(t.petclinic.name),n(4),m("",t.petclinic.address," "),n(5),m("",t.petclinic.phone," "),n(4),m("",t.petclinic.email," "),n(5),m("",t.petclinic.workingHours," "),n(4),m("",t.petclinic.description," "),n(4),p("ngForOf",t.petdoctors))},dependencies:[q,P,k,L,W],encapsulation:2})}}return o})();var re=[{path:":clinic_id",component:Y}],be=(()=>{class o{static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275mod=E({type:o})}static{this.\u0275inj=b({imports:[F.forChild(re),U]})}}return o})();export{be as PetclinicpageModule};
