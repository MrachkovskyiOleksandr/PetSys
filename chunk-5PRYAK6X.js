import{a as C,b as S}from"./chunk-LTVRRZHY.js";import{a as z}from"./chunk-PTOZT7ZU.js";import{a as $}from"./chunk-XSC7ITDS.js";import{a as Y}from"./chunk-O6OSH44P.js";import"./chunk-6VCE7POT.js";import{a as g}from"./chunk-TVS3XZE3.js";import{a as v}from"./chunk-WVVNGQZH.js";import{d as H}from"./chunk-AUTYEGHN.js";import{$ as j,Ca as L,G as s,J as p,K as f,L as I,O as E,Q as d,S as u,Sa as q,U as r,V as n,Va as D,W as F,Z as T,_ as c,ab as N,ca as O,f as b,gb as V,ha as l,ia as w,nb as A,pb as R,rb as B,s as P,wb as h,x as y,y as k,z as M}from"./chunk-YJCDLP6F.js";var J=(()=>{class o{constructor(e,i,t,m,a){this._petstoreService=e,this._form=i,this._core=t,this._alert=m,this._translate=a,this.load=new M,this.form=this._form.getForm("petstore",g)}update(e){this._form.modal(this.form,[],e).then(i=>{this._core.copy(i,e),this._petstoreService.update(e);let t=this._petstoreService.doc(e._id);this._core.copy(i,t)})}delete(e){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this pet?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._petstoreService.delete(e).subscribe(()=>{this.load.emit()})}}]})}static{this.\u0275fac=function(i){return new(i||o)(p(v),p(h),p(N),p(V),p(A))}}static{this.\u0275cmp=f({type:o,selectors:[["app-store-list"]],inputs:{store:"store"},outputs:{load:"load"},standalone:!1,decls:9,vars:4,consts:[[3,"routerLink"],[1,"documents__title"],[1,"documents__description"],[1,"material-icons",3,"click"]],template:function(i,t){i&1&&(r(0,"a",0)(1,"div",1),l(2),n(),r(3,"div",2),l(4),n()(),r(5,"span",3),c("click",function(){return t.update(t.store)}),l(6,"edit"),n(),r(7,"span",3),c("click",function(){return t.delete(t.store)}),l(8,"delete"),n()),i&2&&(O("routerLink","/petstorepage/",t.store._id,""),s(2),w(t.store.name),s(2),w(t.store.workingHours))},dependencies:[q],encapsulation:2})}}return o})();function X(o,K){if(o&1){let e=T();r(0,"div",14)(1,"app-store-list",15),c("load",function(){y(e);let t=j();return k(t.load())}),n()()}if(o&2){let e=K.$implicit;s(),d("store",e)}}var _=(()=>{class o{constructor(e,i,t,m){this._petstoreService=e,this._form=i,this._petfoodService=t,this._petitemService=m,this.stores=[],this.food=[],this.items=[],this.isMenuOpen=!1,this.store_food="",this.store_item="",this.search="",this.form=this._form.getForm("petstore",g),this.load(),this._petfoodService.get().subscribe(a=>{this.food.splice(0,this.food.length),this.food.push(...a)}),this._petitemService.get().subscribe(a=>{this.items.splice(0,this.items.length),this.items.push(...a)})}setSearch(e){this.search=e||""}create(){this._form.modal(this.form,{label:"Create",click:(e,i)=>b(this,null,function*(){i(),this._preCreate(e),this._petstoreService.create(e).subscribe(()=>{this.load()})})})}load(){this._petstoreService.get({query:this._query()},{name:"public"}).subscribe(e=>{this.stores.splice(0,this.stores.length),this.stores.push(...e)})}_preCreate(e){delete e.__created}_query(){let e="";return this.store_food&&(e+=(e?"&":"")+"store_food="+this.store_food),this.store_item&&(e+=(e?"&":"")+"store_item="+this.store_item),this.search&&(e+=(e?"&":"")+"search="+this.search),e}static{this.\u0275fac=function(i){return new(i||o)(p(v),p(h),p(Y),p($))}}static{this.\u0275cmp=f({type:o,selectors:[["ng-component"]],standalone:!1,decls:20,vars:13,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-sidebar"],[1,"documents-sidebar-content"],[1,"documents-sidebar__title"],[3,"click"],[3,"wChange","value"],[3,"wChange","wSubmit","type","clearable"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"load","store"]],template:function(i,t){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c("click",function(){return t.isMenuOpen=!t.isMenuOpen}),F(4,"div",4),n(),r(5,"div",5)(6,"div",6)(7,"div",7),l(8,"Pet Stores"),n(),r(9,"div")(10,"wbutton",8),c("click",function(){return t.create()}),l(11,"Create"),n()(),r(12,"div")(13,"petfood-selector",9),c("wChange",function(a){return t.store_food=a,t.load()}),n(),r(14,"petitem-selector",9),c("wChange",function(a){return t.store_item=a,t.load()}),n()(),r(15,"div")(16,"winput",10),c("wChange",function(a){return t.setSearch(a)})("wSubmit",function(){return t.load()}),n()()()(),r(17,"div",11)(18,"div",12),E(19,X,2,1,"div",13),n()()()()()),i&2&&(u("documents-wrapper--open",t.isMenuOpen),s(3),u("burger-wrap--open",t.isMenuOpen),s(),u("burger--close",t.isMenuOpen),s(),u("documents-sidebar--open",t.isMenuOpen),s(8),d("value",t.store_food),s(),d("value",t.store_item),s(2),d("type","search")("clearable",!0),s(3),d("ngForOf",t.stores))},dependencies:[L,R,B,C,S,J],encapsulation:2})}}return o})();var Z=[{path:"",component:_},{path:":store_drug",component:_},{path:":store_food",component:_},{path:":store_item",component:_}],ke=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=I({type:o})}static{this.\u0275inj=P({imports:[D.forChild(Z),H,z,C,S]})}}return o})();export{ke as PetstoreModule};
